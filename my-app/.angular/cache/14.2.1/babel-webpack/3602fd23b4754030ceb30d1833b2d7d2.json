{"ast":null,"code":"import { filter, pluck, switchMap } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../services/article.service\";\nimport * as i3 from \"@angular/common\";\n\nfunction ArticleDetailComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"h1\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const article_r3 = ctx.ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(article_r3.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", article_r3.body, \" \");\n  }\n}\n\nfunction ArticleDetailComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \" No article found\\n\");\n  }\n}\n\nexport class ArticleDetailComponent {\n  constructor(route, articleService) {\n    this.route = route;\n    this.articleService = articleService;\n  }\n\n  ngOnInit() {\n    this.article = this.route.params.pipe(pluck('slug'), switchMap(slug => this.articleService.getArticle(slug)), filter(article => !article));\n  }\n\n}\n\nArticleDetailComponent.ɵfac = function ArticleDetailComponent_Factory(t) {\n  return new (t || ArticleDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ArticleService));\n};\n\nArticleDetailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ArticleDetailComponent,\n  selectors: [[\"app-article-detail\"]],\n  decls: 4,\n  vars: 4,\n  consts: [[4, \"ngIf\", \"ngIfElse\"], [\"noArticle\", \"\"]],\n  template: function ArticleDetailComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ArticleDetailComponent_ng_container_0_Template, 5, 2, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵtemplate(2, ArticleDetailComponent_ng_template_2_Template, 1, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(3);\n\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 2, ctx.article))(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i3.NgIf, i3.AsyncPipe],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"AAEA,SAAQA,MAAR,EAA4BC,KAA5B,EAAmCC,SAAnC,QAAmD,MAAnD;;;;;;;;ICFAC;IACEA;IAAIA;IAAiBA;IACrBA;IACEA;IACFA;IACFA;;;;;IAJMA;IAAAA;IAEFA;IAAAA;;;;;;IAIFA;;;;ADGF,OAAM,MAAOC,sBAAP,CAA6B;EAEjCC,YACmBC,KADnB,EAEmBC,cAFnB,EAEgD;IAD7B;IACA;EAElB;;EACDC,QAAQ;IACN,KAAKC,OAAL,GAAe,KAAKH,KAAL,CAAWI,MAAX,CAAkBC,IAAlB,CACbV,KAAK,CAAC,MAAD,CADQ,EAEbC,SAAS,CAACU,IAAI,IAAE,KAAKL,cAAL,CAAoBM,UAApB,CAA+BD,IAA/B,CAAP,CAFI,EAGbZ,MAAM,CAACS,OAAO,IAAE,CAACA,OAAX,CAHO,CAAf;EAKD;;AAbgC;;;mBAAtBL,wBAAsBD;AAAA;;;QAAtBC;EAAsBU;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCVnCf;;MAMAA;;;;;;MANeA,yDAAoB,UAApB,EAAoBgB,GAApB","names":["filter","pluck","switchMap","i0","ArticleDetailComponent","constructor","route","articleService","ngOnInit","article","params","pipe","slug","getArticle","selectors","decls","vars","consts","template","_r1"],"sourceRoot":"","sources":["D:\\anhhv492\\nodo-training-202208-sql\\my-app\\src\\app\\day27-article-detail\\article-detail.component.ts","D:\\anhhv492\\nodo-training-202208-sql\\my-app\\src\\app\\day27-article-detail\\article-detail.component.html"],"sourcesContent":["import {Component, OnInit} from \"@angular/core\";\r\nimport {ActivatedRoute} from \"@angular/router\";\r\nimport {filter, Observable, pluck, switchMap} from \"rxjs\";\r\nimport {Article} from \"../day27/article\";\r\nimport {ArticleService} from \"../services/article.service\";\r\n\r\n@Component({\r\n  selector:'app-article-detail',\r\n  templateUrl:'./article-detail.component.html'\r\n})\r\nexport class ArticleDetailComponent implements OnInit{\r\n  article: Observable<Article> | undefined;\r\n  constructor(\r\n    private readonly route: ActivatedRoute,\r\n    private readonly articleService:ArticleService\r\n    ) {\r\n  }\r\n  ngOnInit():void {\r\n    this.article = this.route.params.pipe(\r\n      pluck('slug'),\r\n      switchMap(slug=>this.articleService.getArticle(slug)),\r\n      filter(article=>!article)\r\n    );\r\n  }\r\n  // ngOnInit():void {\r\n  //   this.route.params.subscribe(console.log);\r\n  //   this.route.paramMap.subscribe(console.log);\r\n  //   console.log(this.route.snapshot.params);\r\n  //   console.log(this.route.snapshot.paramMap);\r\n  // }\r\n\r\n}\r\n","<ng-container *ngIf=\"article|async as article;else noArticle\">\r\n  <h1>{{article.title}}</h1>\r\n  <p>\r\n    {{article.body}}\r\n  </p>\r\n</ng-container>\r\n<ng-template #noArticle>\r\n  No article found\r\n</ng-template>\r\n"]},"metadata":{},"sourceType":"module"}